#질문
http://localhost:3000/app/kb/new 페이지의 일반 모드와 admin 모드의 내용은 서로 공유하지 않아야 합니다.

/html/body/main/div/div/main/div/div/div[2]/div/div[1]/div[4] 요소는 일반 모드에서만 사용되고,

/html/body/main/div/div/main/div/div/div[2]/div/div[1]/div[5]/textarea 요소는 admin 모드에서만 사용되어야 하며, 해당 항목은 수정 불가해야 합니다.

또한 /html/body/main/div/div/main/div/div/div[2]/div/div[1]/div[5] 항목의 규칙 선택, 템플릿 선택, 툴 정책 선택 선택은 select box로 현재 서비스에 존재하는 모든 기능이 항상 추가되는 형태여야 합니다.

따라서 서비스에서 규칙, 템플릿, 툴 정책을 추가하고 "하드 코딩" 되었다면 http://localhost:3000/app/kb/new 페이지의 어드민 모드에 셀렉트 박스에도 추가되어야 합니다.

# 답변
요청사항을 반영해 일반/ADMIN 모드의 내용이 서로 분리되도록 했고, ADMIN 모드 전용 textarea는 읽기 전용으로 고정했습니다. 또한 규칙/템플릿/툴 정책 선택은 모두 select box(다중 선택)로 변경하고, 서비스에 존재하는 모든 항목이 항상 포함되도록 구성했습니다.

- 일반 모드에서만 “내용” textarea가 표시되고, ADMIN 모드에서는 숨김 처리했습니다.
- ADMIN 모드 전용 Policy JSON textarea는 비활성화(수정 불가)로 고정했습니다.
- 규칙/템플릿/툴 정책 선택을 체크박스에서 “모든 항목이 선택된 상태의 select box”로 변경했습니다.
- ADMIN 정책 JSON 생성은 항상 rulePresets/templatePresets/toolPolicyPresets 전체를 포함하도록 고정했습니다.
- 제출 조건은 ADMIN 모드에서 policyJson 기준으로 검증하도록 변경했습니다.

변경 파일: src/app/app/kb/new/page.tsx

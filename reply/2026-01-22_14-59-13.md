# 질문
현재 당신의 답변이 계속해서 잘리고 있습니다.
reply 폴더를 만들어 시간과 함께 질문과 답변을 기록해주세요.

지금 주신 답변부터 기록해주세요

# 답변
오류 원인은 `ALTER TABLE ... ADD CONSTRAINT IF NOT EXISTS` 문법이 Postgres에 없어서입니다.
해당 부분을 DO 블록으로 수정한 패치를 업데이트했습니다.

수정된 파일
- `docs/supabase_schema_patch.sql`

다시 실행 방법
1) Supabase SQL Editor에서 `docs/supabase_schema_patch.sql` 전체를 재실행
2) 결과 알려주세요

문제된 구간만 다시 실행하고 싶다면, 아래 블록만 실행해도 됩니다.
```sql
DO $$
BEGIN
  IF NOT EXISTS (
    SELECT 1 FROM pg_constraint WHERE conname = 'sessions_org_id_fkey'
  ) THEN
    ALTER TABLE public.sessions
      ADD CONSTRAINT sessions_org_id_fkey
      FOREIGN KEY (org_id) REFERENCES public.organizations (id) ON DELETE CASCADE;
  END IF;
END $$;
```

적용 후 알려주시면 다음 단계(API 계약서 초안)로 바로 진행하겠습니다.

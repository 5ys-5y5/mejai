# 질문
const key = Object.keys(localStorage).find(k => k.includes("auth-token"));
const raw = localStorage.getItem(key || "");
const token = raw ? (JSON.parse(raw).access_token || JSON.parse(atob(raw)).access_token) : "";

fetch("/api/mcp/tools/call", {
  method: "POST",
  headers: { "Content-Type": "application/json", "Authorization": "Bearer " + token },
  body: JSON.stringify({ tool: "find_customer_by_phone", params: { member_id: "mejai" } })
}).then(r => r.json()).then(console.log);

fetch("/api/mcp/tools/call", {
  method: "POST",
  headers: { "Content-Type": "application/json", "Authorization": "Bearer " + token },
  body: JSON.stringify({ tool: "lookup_order", params: { order_id: "20260127-0000014", customer_verification_token: "TEST" } })
}).then(r => r.json()).then(console.log);
Promise{<pending>}
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 573ms
forward-logs-shared.ts:95 {tool: 'find_customer_by_phone', version: 'v1', status: 'success', data: {}, error: null,}
forward-logs-shared.ts:95 {tool: 'lookup_order', version: 'v1', status: 'success', data: {}, error: null,}

# 답변
두 MCP 호출 모두 **status: success**로 확인되었습니다. ✅

다만 `data`가 비어 있으므로, 실제 응답 내용이 있는지 확인하려면 `_debug` 또는 원문 응답을 확인해야 합니다. 우선 아래처럼 `debug: true`로 재호출하면 실제 요청 쿼리/응답 판단이 가능합니다.

```js
const key = Object.keys(localStorage).find(k => k.includes("auth-token"));
const raw = localStorage.getItem(key || "");
const token = raw ? (JSON.parse(raw).access_token || JSON.parse(atob(raw)).access_token) : "";

fetch("/api/mcp/tools/call", {
  method: "POST",
  headers: { "Content-Type": "application/json", "Authorization": "Bearer " + token },
  body: JSON.stringify({ tool: "find_customer_by_phone", params: { member_id: "mejai", debug: true } })
}).then(r => r.json()).then(console.log);

fetch("/api/mcp/tools/call", {
  method: "POST",
  headers: { "Content-Type": "application/json", "Authorization": "Bearer " + token },
  body: JSON.stringify({ tool: "lookup_order", params: { order_id: "20260127-0000014", customer_verification_token: "TEST", debug: true } })
}).then(r => r.json()).then(console.log);
```

이 결과까지 확인하면 “MCP가 Cafe24 데이터를 정상 반환한다”는 것을 최종 확정할 수 있습니다.

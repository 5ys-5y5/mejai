# 질문
<image name=[Image #1]>[Image #1] cron run 은 작동합니다.

cafe24-refresh-cron
/
b79f5bdd
Completed

Jan 27, 2026, 2:21 PM GMT+9
Details
Build Logs
Deploy Logs
Network Flow Logs
Filter and search logs

You reached the start of the range
Jan 27, 2026, 2:21 PM
Starting Container
<!DOCTYPE html><!--YSwAuagqhkzFlgP0XATc2--><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/a82ef5b6e5cbdcba.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/d59f830a2b8e768c.js"/><script src="/_next/static/chunks/82c4b54c018b37e0.js" async=""></script><script src="/_next/static/chunks/7c30dcaa3fa8db7a.js" async=""></script><script src="/_next/static/chunks/bf031614606b7e6a.js" async=""></script><script src="/_next/static/chunks/82abf2d65f5428ae.js" async=""></script><script src="/_next/static/chunks/turbopack-7fc00d95d393fd73.js" async=""></script><script src="/_next/static/chunks/195c216f52dae3f8.js" async=""></script><script src="/_next/static/chunks/d2be314c3ece3fbe.js" async=""></script><script src="/_next/static/chunks/c801643b6dd98e73.js" async=""></script><script src="/_next/static/chunks/f1556c6a84e22f86.js" async=""></script><meta name="robots" content="noindex"/><title>404: This page could not be found.</title><title>Mejai</title><meta name="description" content="전화 상담을 위한 AI 자동화 서비스"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="antialiased"><div hidden=""><!--$--><!--/$--></div><nav class="fixed top-0 left-0 right-0 z-50 h-[65px] border-b border-border bg-background/80 backdrop-blur-md"><div class="container mx-auto h-full px-4 flex items-center justify-between"><a class="text-xl font-bold tracking-tight" href="/">Mejai</a><div class="hidden md:flex items-center space-x-8"><a class="text-sm font-medium hover:text-primary transition-colors" href="/demo">데모</a><a class="text-sm font-medium hover:text-primary transition-colors" href="/pricing">요금 안내</a><a class="text-sm font-medium hover:text-primary transition-colors" href="/security">보안</a><a href="/login"><button class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md px-3 text-xs">시작하기</button></a></div><button class="md:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu" aria-hidden="true"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg></button></div></nav><div class="h-[65px]" aria-hidden="true"></div><main><div style="font-family:system-ui,&quot;Segoe UI&quot;,Roboto,Helvetica,Arial,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;;height:100vh;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center"><div><style>body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}</style><h1 class="next-error-h1" style="display:inline-block;margin:0 20px 0 0;padding:0 23px 0 0;font-size:24px;font-weight:500;vertical-align:top;line-height:49px">404</h1><div style="display:inline-block"><h2 style="font-size:14px;font-weight:400;line-height:49px;margin:0">This page could not be found.</h2></div></div></div><!--$--><!--/$--></main><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script src="/_next/static/chunks/d59f830a2b8e768c.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[64712,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"AppNavbarGate\"]\n3:I[39756,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"default\"]\n4:I[37457,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"default\"]\n5:I[46696,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"Toaster\"]\n6:I[4976,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"RouteAnnouncerCleanup\"]\n7:I[97367,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"OutletBoundary\"]\n8:\"$Sreact.suspense\"\na:I[97367,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"ViewportBoundary\"]\nc:I[97367,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"MetadataBoundary\"]\ne:I[68027,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"default\"]\n:HL[\"/_next/static/chunks/a82ef5b6e5cbdcba.css\",\"style\"]\n"])\n</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"YSwAuagqhkzFlgP0XATc2\",\"c\":[\"\",\"_not-found\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"/_not-found\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/a82ef5b6e5cbdcba.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/195c216f52dae3f8.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/c801643b6dd98e73.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-3\",{\"src\":\"/_next/static/chunks/f1556c6a84e22f86.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L5\",null,{\"position\":\"top-center\"}],[\"$\",\"$L6\",null,{}]]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:0:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:style\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":\"$0:f:0:1:0:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:children:props:children:1:props:style\",\"children\":404}],[\"$\",\"div\",null,{\"style\":\"$0:f:0:1:0:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:children:props:children:2:props:style\",\"children\":[\"$\",\"h2\",null,{\"style\":\"$0:f:0:1:0:props:children:1:props:children:props:children:1:props:children:props:notFound:0:1:props:children:props:children:2:props:children:props:style\",\"children\":\"This page could not be found.\"}]}]]}]}]],null,[\"$\",\"$L7\",null,{\"children\":[\"$\",\"$8\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@9\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[[\"$\",\"meta\",null,{\"name\":\"robots\",\"content\":\"noindex\"}],[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"$8\",null,{\"name\":\"Next.Metadata\",\"children\":\"$Ld\"}]}]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"S\":true}\n"])\n</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])\n</script><script>self.__next_f.push([1,"9:null\nd:[[\"$\",\"title\",\"0\",{\"children\":\"Mejai\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"전화 상담을 위한 AI 자동화 서비스\"}]]\n"])\n</script></body></html>

이렇게 실행을 완료하였지만, auth_settings 테이블의 행은 갱신되지 않았습니다.

id,org_id,user_id,providers,updated_at,created_at
d8fc56a3-db28-4af2-8499-285ed7ab62a5,8ad81b6b-3210-40dd-8e00-9a43a4395923,fa7baaa2-806f-4457-88f0-7d29f802d126,"{""cafe24"": {""scope"": ""mall.read_application mall.write_application mall.read_category mall.write_category mall.read_product mall.write_product mall.read_collection mall.write_collection mall.read_supply mall.write_supply mall.read_personal mall.write_personal mall.read_order mall.write_order mall.read_community mall.write_community mall.read_customer mall.write_customer mall.read_notification mall.write_notification mall.read_store mall.write_store mall.read_promotion mall.write_promotion mall.read_design mall.write_design mall.read_salesreport mall.write_salesreport mall.read_shipping mall.write_shipping mall.read_translation mall.write_translation mall.read_analytics mall.read_privacy"", ""mall_id"": ""sungjy2020"", ""shop_no"": ""1"", ""board_no"": ""9"", ""client_id"": ""JAYmwae9LCbAzEWz3vIsdB"", ""expires_at"": ""2026-01-27T15:36:37.000"", ""access_token"": """", ""client_secret"": ""9Nm0W86KMl3oSbxrrwdeaC"", ""refresh_token"": ""0heqTpZ2USUUrOlmZTFR7F""}}",2026-01-27 04:36:37.857+00,2026-01-26 11:06:53.935196+00

(의도적으로 실행 전 "access_token"의 value값을 삭제하고 갱신되는지 확인함)

# 답변
Starting Container
<!DOCTYPE html><!--YSwAuagqhkzFlgP0XATc2--><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/a82ef5b6e5cbdcba.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/d59f830a2b8e768c.js"/><script src="/_next/static/chunks/82c4b54c018b37e0.js" async=""></script><script src="/_next/static/chunks/7c30dcaa3fa8db7a.js" async=""></script><script src="/_next/static/chunks/bf031614606b7e6a.js" async=""></script><script src="/_next/static/chunks/82abf2d65f5428ae.js" async=""></script><script src="/_next/static/chunks/turbopack-7fc00d95d393fd73.js" async=""></script><script src="/_next/static/chunks/195c216f52dae3f8.js" async=""></script><script src="/_next/static/chunks/d2be314c3ece3fbe.js" async=""></script><script src="/_next/static/chunks/c801643b6dd98e73.js" async=""></script><script src="/_next/static/chunks/f1556c6a84e22f86.js" async=""></script><meta name="robots" content="noindex"/><title>404: This page could not be found.</title><title>Mejai</title><meta name="description" content="전화 상담을 위한 AI 자동화 서비스"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="antialiased"><div hidden=""><!--$--><!--/$--></div><nav class="fixed top-0 left-0 right-0 z-50 h-[65px] border-b border-border bg-background/80 backdrop-blur-md"><div class="container mx-auto h-full px-4 flex items-center justify-between"><a class="text-xl font-bold tracking-tight" href="/">Mejai</a><div class="hidden md:flex items-center space-x-8"><a class="text-sm font-medium hover:text-primary transition-colors" href="/demo">데모</a><a class="text-sm font-medium hover:text-primary transition-colors" href="/pricing">요금 안내</a><a class="text-sm font-medium hover:text-primary transition-colors" href="/security">보안</a><a href="/login"><button class="inline-flex items-center justify-center whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-8 rounded-md px-3 text-xs">시작하기</button></a></div><button class="md:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu" aria-hidden="true"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg></button></div></nav><div class="h-[65px]" aria-hidden="true"></div><main><div style="font-family:system-ui,&quot;Segoe UI&quot;,Roboto,Helvetica,Arial,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;;height:100vh;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center"><div><style>body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}</style><h1 class="next-error-h1" style="display:inline-block;margin:0 20px 0 0;padding:0 23px 0 0;font-size:24px;font-weight:500;vertical-align:top;line-height:49px">404</h1><div style="display:inline-block"><h2 style="font-size:14px;font-weight:400;line-height:49px;margin:0">This page could not be found.</h2></div></div></div><!--$--><!--/$--></main><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script src="/_next/static/chunks/d59f830a2b8e768c.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[64712,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"AppNavbarGate\"]\n3:I[39756,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"default\"]\n4:I[37457,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"default\"]\n5:I[46696,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\",\"/_next/static/chunks/f1556c6a84e22f86.js\"],\"Toaster\"]\n6:I[4976,[\"/_next/static/chunks/195c216f52dae3f8.js\",\"/_next/static/chunks/d2be314c3ece3fbe.js\",\"/_next/static/chunks/c801643b6dd98e73.js\"\n</script>

이 응답은 **/api/cafe24/refresh가 아니라 기본 라우트(또는 404 페이지)를 호출한 결과**입니다. 그래서 DB 갱신이 없습니다.

확인/수정해야 할 것 (순서대로)
1) `CRON_URL` 값 확인
   - `https://mejai.help/api/cafe24/refresh`로 정확히 설정되어 있는지 재확인
2) 실제로 해당 URL이 200/JSON을 주는지 확인
   - 로컬에서 아래 실행 후 JSON이 나와야 정상입니다:
     `curl -H "x-cron-secret: 7QqGsidEu8L9M1RmRJ1ev56wABqMC10r" https://mejai.help/api/cafe24/refresh`
   - 여기서도 404면 **메인 서비스에 코드가 아직 배포되지 않은 상태**입니다. → mejai 서비스 재배포 필요
3) 메인 서비스(mejai)에 `CRON_SECRET`, `SUPABASE_SERVICE_ROLE_KEY`가 설정되어 있는지 확인

핵심 결론
- 지금 Cron은 정상 실행되지만, **잘못된 URL(또는 아직 배포 안 된 라우트)** 를 치고 있어서 404가 나온 것입니다.
- `mejai` 서비스에 이번 코드가 배포된 뒤, 위 curl이 JSON 요약을 반환하면 정상입니다.

# 질문
현재 과정을 제가 이해하지 못하고 있는 것을 인지하였습니다.

MCP 기능을 구현하는 과정은 대상이 되는 실제 서비스(cafe24, shopify 등)의 어드민에 접근 가능한 상태여야 하나요?

고객사가 코딩을 전혀 하지 않고, LLM, MCP, KB를 연결하려면 어떻게 해야 하나요?

제가 MCP정도는 코딩으로 환경을 구성해야 하는 것으로 이해하고 있는데(서비스에서 코딩된 MCP에 대해 코딩된 서비스만 지원 가능) 아직 고객사가 없어서 접근 가능한 어드민이 없을 땐 어떻게 하나요?

# 답변
1) MCP 구현 시 실제 서비스 어드민 접근이 “필수”는 아닙니다.
- MCP는 “표준 Tool 레이어”이므로, 초기에는 샌드박스/더미 어댑터로 충분히 구현·검증할 수 있습니다.
- 실제 어드민 접근은 “실데이터 연동/검증 단계”에서 필요합니다.

2) 고객사가 코딩 없이 LLM/MCP/KB를 연결하는 방법(권장)
- 플랫폼 운영자가 사전에 커넥터(Shopify, 카페24, ERP 등)를 만들어 둡니다.
- 고객사는 운영자 콘솔에서 “연결”만 합니다.
  - 예: API Key 입력, OAuth 승인 버튼 클릭, 필요한 권한 범위 선택
- KB는 문서 업로드/연동(문서, FAQ, 공지) UI로 연결
- 결과적으로 고객사는 코딩 없이도 LLM/KB/MCP를 사용하게 됩니다.

3) 고객사가 없어서 어드민 접근이 없을 때의 진행 방법
- 1단계: MCP Gateway + Tool 스키마 + 정책/로그/마스킹 기능을 먼저 구축
- 2단계: 샌드박스/더미 어댑터로 end-to-end 흐름을 검증
- 3단계: 고객사 확보 후 실제 어드민 접근 권한으로 커넥터를 실서비스에 붙임

정리하면, MCP는 “코딩된 커넥터를 통한 표준 인터페이스”이므로 플랫폼 입장에서는 코딩이 필요하지만,
고객사는 코딩 없이 콘솔에서 연결(키/권한/문서 업로드)만 하면 됩니다. 고객사가 없을 때는 샌드박스/더미 어댑터로 먼저 진행하는 것이 정석입니다.

# 추가 질문
카페24 어댑터 구현을 위한 엔드포인트/인증 정보를 어떻게 얻을 수 있나요?
초등학생 혹은 노인도 따라할 수 있게 클릭 단위로 알려주세요

# 추가 답변
아래는 카페24 어댑터를 위한 엔드포인트/인증 정보를 얻는 방법을 클릭 단위로 정리한 안내입니다. (용어가 조금 달라도 위치는 비슷합니다)

1) 개발자센터에서 앱 만들기(Client ID/Secret 얻기)
1. 인터넷 브라우저를 엽니다.
2. 검색창에 “카페24 개발자센터”를 입력하고 들어갑니다.
3. 오른쪽 위 “로그인” 버튼을 누릅니다.
4. 상단 메뉴에서 “App(앱)”을 눌러 “앱 생성/등록” 화면으로 이동합니다.
5. 앱 이름을 입력하고 저장합니다.
6. 같은 화면에서 “Client ID”와 “Client Secret”을 복사합니다.
   - 이것이 인증에 필요한 핵심 정보입니다.

2) Access Token 발급(OAuth) - 필요한 값 얻는 방법
1. `client_id`, `client_secret` 얻기  
   - 카페24 개발자센터 로그인 → `App` → `앱 생성/등록`  
   - 앱 기본정보 화면에서 `Client ID`, `Client Secret` 확인/복사
2. `redirect_uri` 확인/등록  
   - 앱 기본정보의 Redirect URI 설정에서 실제 수신 URL 등록  
   - **Access Token 요청 시 redirect_uri는 등록된 값과 정확히 동일해야 함**
3. `mall_id` 확인  
   - 카페24 관리자 로그인 → 쇼핑몰 주소/상단 정보에서 `mall_id` 확인  
   - 예: `https://{mall_id}.cafe24.com`
4. `authorization_code` 받기  
   - 브라우저에서 인증 코드 요청 URL 접속  
   - 로그인/승인 후 `redirect_uri`로 이동되는 URL의 `code=...` 값이 인증 코드  
   - **1분 내 만료**
5. (PKCE 사용 시) `code_verifier` 준비  
   - 인증 코드 요청 시 사용한 `code_verifier`를 그대로 사용  
   - 정규식: `[A-Za-z0-9-._~]{43,128}`
6. Authorization 헤더 값 만들기  
   - `{client_id}:{client_secret}` 문자열을 Base64 인코딩  
   - 헤더: `Authorization: Basic {base64_encoded_value}`

3) API 기본 주소(엔드포인트) 만들기
1. 카페24 관리자에 로그인합니다.
2. 내 쇼핑몰 ID(mallid)를 확인합니다.
3. 기본 주소는 아래 형식입니다.
   - https://{mallid}.cafe24api.com/api/v2/admin/...

4) 최소 기능별 엔드포인트(주문/배송/티켓)
- 주문 조회
  - GET /api/v2/admin/orders
  - GET /api/v2/admin/orders/{order_id}
- 배송 조회
  - GET /api/v2/admin/orders/{order_id}/shipments
- 티켓 생성(카페24는 보통 “문의 게시판 글 생성”으로 대체)
  - POST /api/v2/admin/boards/{board_no}/articles

요약
- 앱 생성 → Client ID/Secret 확보
- OAuth로 access_token 발급
- Bearer 토큰으로 Admin API 호출
- 주문/배송/문의(티켓) API를 사용


#추가 질문
MCP를 구현하지 않았을 때의 한계에 대해 알려주세요

#답변

• MCP를 구현하지 않았을 때의 주요 한계는 아래와 같습니다.

1) 테넌트별 API 차이로 인해 기능 확장이 느림
각 고객사(Shopify/카페24/ERP)마다 API가 달라서 LLM/오케스트레이터가 직접 다루면 케이스마
다 코드를 새로 써야 합니다.

2) 권한/감사/마스킹이 제각각 흩어짐
도구 호출이 서비스마다 분산되어 정책(누가 어떤 기능을 썼는지, 어떤 개인정보가 노출됐는  
지)을 중앙에서 통제하기 어렵습니다.

3) 보안/컴플라이언스 위험 증가
LLM이 직접 DB/API를 호출하면 잘못된 호출이나 민감정보 노출을 막기 어렵고, 감사 로그도 일
관되게 남기기 힘듭니다.

4) 정책 통제 불가(툴 허용/금지)
“이 테넌트는 주문조회만 허용, 환불승인은 금지” 같은 통제를 중앙에서 강제하기 어렵습니다.

5) 운영 자동화/관찰성 저하
속도제한, 에러 표준화, 재시도 정책, 장애 대응이 API별로 달라져 운영 효율이 떨어집니다.  

6) LLM 안정성 저하
툴 스키마가 제각각이면 LLM은 매번 다른 호출 규칙을 학습해야 해서 정확도가 떨어지고 오류 
가 늘어납니다.

요약하면, MCP 없이도 “동작”은 가능하지만
확장·보안·운영·품질 측면에서 장기적으로 유지 불가능한 구조가 됩니다.

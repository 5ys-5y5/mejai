# 질문
const key = Object.keys(localStorage).find(k => k.includes("auth-token"));
const raw = localStorage.getItem(key || "");
const token = raw ? (JSON.parse(raw).access_token || JSON.parse(atob(raw)).access_token) : "";

fetch("/api/mcp/tools/call", {
  method: "POST",
  headers: { "Content-Type": "application/json", "Authorization": "Bearer " + token },
  body: JSON.stringify({ tool: "lookup_order", params: { order_id: "20260127-0000014", customer_verification_token: "TEST" } })
}).then(r => r.json()).then(console.log);
Promise{<pending>}
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 173ms
forward-logs-shared.ts:95 {tool: 'lookup_order', version: 'v1', status: 'success', data: {}, error: null,}

# 답변
`status: success`인데 `data`가 비어 있어서 요약/마스킹 반영 여부를 확인할 수 없습니다. **응답 전체를 JSON 문자열로 출력**해서 실제 데이터가 내려오는지 확인해 주세요.

```js
const key = Object.keys(localStorage).find(k => k.includes("auth-token"));
const raw = localStorage.getItem(key || "");
const token = raw ? (JSON.parse(raw).access_token || JSON.parse(atob(raw)).access_token) : "";

fetch("/api/mcp/tools/call", {
  method: "POST",
  headers: { "Content-Type": "application/json", "Authorization": "Bearer " + token },
  body: JSON.stringify({ tool: "lookup_order", params: { order_id: "20260127-0000014", customer_verification_token: "TEST" } })
}).then(r => r.json())
  .then(res => console.log(JSON.stringify(res)));
```

이 출력에서 `order_summary`와 마스킹(`billing_name`, `bank_account_no` 등)이 들어오는지 확인하겠습니다.
